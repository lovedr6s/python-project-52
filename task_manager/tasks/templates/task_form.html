{% extends 'base.html' %}
{% load i18n %}
{% load django_bootstrap5 %}
{% block title %}Task Form{% endblock %}

{% block content %}
<h1>{{ action }}</h1>
    <form method="post">
    {% csrf_token %}
        <h1 class="my-4"> {{ header }}</h1>
        <div class = "form">
            {%  for field in form %}
                {% if field.name == 'tags' %}
                    <div class="mb-3">
                        <label class="form-label">Метки</label>
                        {% for subwidget in field %}
                            <div class="form-check">
                                {{ subwidget.tag }}
                                <label class="form-check-label" for="{{ subwidget.id_for_label }}">{{ subwidget.choice_label }}</label>
                            </div>
                        {% endfor %}
                        {% if field.errors %}
                            <div class="invalid-feedback d-block">
                                {{ field.errors|striptags }}
                            </div>
                        {% endif %}
                    </div>
                {% else %}
                    {% bootstrap_field field %}
                {% endif %}
            {% endfor %}
                <div class = "form-group"> 
                     {% bootstrap_button button_action button_type="submit" button_class="mt-3 btn btn-primary" %}
                </div>
        </div>
    </form>
{% endblock %}